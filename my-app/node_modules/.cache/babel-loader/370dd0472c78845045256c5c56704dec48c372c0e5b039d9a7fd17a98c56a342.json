{"ast":null,"code":"import React from'react';import{Navbar,Container,Nav}from'react-bootstrap';import{NavLink}from'react-router-dom';import axios from'axios';import ClickOutsideToggle from'../hooks/ClickOutsideToggle';import styles from'../styles/NavBar.module.css';import{useCurrentUser,useSetCurrentUser}from'../contexts/CurrentUser';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const NavBar=()=>{var _currentUser$profile,_currentUser$profile2;const currentUser=useCurrentUser();const setCurrentUser=useSetCurrentUser();const{expanded,setExpanded,ref}=ClickOutsideToggle();const handleSignOut=async()=>{try{await axios.post('dj-rest-auth/logout/');localStorage.removeItem('accessToken');localStorage.removeItem('refreshToken');setCurrentUser(null);}catch(err){console.log(err);}};const loggedInIcons=/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(NavLink,{className:_ref=>{let{isActive}=_ref;return isActive?`${styles.NavLink} ${styles.Active}`:styles.NavLink;},to:\"/tasks\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-list-check\"}),\"Tasks\"]}),/*#__PURE__*/_jsxs(NavLink,{className:_ref2=>{let{isActive}=_ref2;return isActive?`${styles.NavLink} ${styles.Active}`:styles.NavLink;},to:\"/categories\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-regular fa-folder-open\"}),\"Categories\"]}),/*#__PURE__*/_jsxs(NavLink,{className:_ref3=>{let{isActive}=_ref3;return isActive?`${styles.NavLink} ${styles.Active}`:styles.NavLink;},to:\"/teams\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-people-group\"}),\"Teams\"]}),/*#__PURE__*/_jsx(NavLink,{className:styles.NavLink,to:`/profiles/${currentUser===null||currentUser===void 0?void 0:(_currentUser$profile=currentUser.profile)===null||_currentUser$profile===void 0?void 0:_currentUser$profile.id}`,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.ProfileLink,children:[currentUser&&(_currentUser$profile2=currentUser.profile)!==null&&_currentUser$profile2!==void 0&&_currentUser$profile2.image?/*#__PURE__*/_jsx(\"img\",{src:currentUser.profile.image,alt:\"Profile\",className:styles.Image,style:{width:'40px',height:'40px',borderRadius:'50%'},onError:e=>{e.target.src='https://res.cloudinary.com/du2uzk3no/image/upload/v1714042156/default_profile_nwigev.jpg';}}):/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user-circle\"}),/*#__PURE__*/_jsx(\"span\",{className:styles.Username,children:currentUser&&currentUser.username})]})}),/*#__PURE__*/_jsxs(NavLink,{className:styles.NavLink,to:\"/\",onClick:handleSignOut,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-sign-out-alt\"}),\"Sign out\"]})]});const loggedOutIcons=/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(NavLink,{className:_ref4=>{let{isActive}=_ref4;return isActive?`${styles.NavLink} ${styles.Active}`:styles.NavLink;},to:\"/signin\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-sign-in-alt\"}),\"Log In\"]}),/*#__PURE__*/_jsxs(NavLink,{className:_ref5=>{let{isActive}=_ref5;return isActive?`${styles.NavLink} ${styles.Active}`:styles.NavLink;},to:\"/signup\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user-plus\"}),\"Register\"]})]});return/*#__PURE__*/_jsx(Navbar,{expanded:expanded,className:styles.NavBar,expand:\"md\",fixed:\"top\",children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(NavLink,{to:\"/\",children:/*#__PURE__*/_jsx(Navbar.Brand,{children:/*#__PURE__*/_jsx(\"h2\",{children:\"ProductiveYou\"})})}),/*#__PURE__*/_jsx(Navbar.Toggle,{ref:ref,onClick:()=>setExpanded(!expanded),\"aria-controls\":\"basic-navbar-nav\"}),/*#__PURE__*/_jsx(Navbar.Collapse,{id:\"basic-navbar-nav\",children:/*#__PURE__*/_jsx(Nav,{className:\"ml-auto text-left\",children:currentUser?loggedInIcons:loggedOutIcons})})]})});};export default NavBar;","map":{"version":3,"names":["React","Navbar","Container","Nav","NavLink","axios","ClickOutsideToggle","styles","useCurrentUser","useSetCurrentUser","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","NavBar","_currentUser$profile","_currentUser$profile2","currentUser","setCurrentUser","expanded","setExpanded","ref","handleSignOut","post","localStorage","removeItem","err","console","log","loggedInIcons","children","className","_ref","isActive","Active","to","_ref2","_ref3","profile","id","ProfileLink","image","src","alt","Image","style","width","height","borderRadius","onError","e","target","Username","username","onClick","loggedOutIcons","_ref4","_ref5","expand","fixed","Brand","Toggle","Collapse"],"sources":["/Users/leighallen/Documents/GitHub/React-ProductiveYou/my-app/src/components/NavBar.js"],"sourcesContent":["import React from 'react';\nimport { Navbar, Container, Nav } from 'react-bootstrap';\nimport { NavLink } from 'react-router-dom';\nimport axios from 'axios';\nimport ClickOutsideToggle from '../hooks/ClickOutsideToggle';\nimport styles from '../styles/NavBar.module.css';\nimport { useCurrentUser, useSetCurrentUser } from '../contexts/CurrentUser';\n\nconst NavBar = () => {\n  const currentUser = useCurrentUser();\n  const setCurrentUser = useSetCurrentUser();\n\n  const { expanded, setExpanded, ref } = ClickOutsideToggle();\n\n  const handleSignOut = async () => {\n    try {\n        await axios.post('dj-rest-auth/logout/');\n        localStorage.removeItem('accessToken');\n        localStorage.removeItem('refreshToken');\n        setCurrentUser(null);\n    } catch (err) {\n        console.log(err);\n    }\n};\n\n  const loggedInIcons = (\n    <>\n      <NavLink\n        className={({ isActive }) =>\n          isActive ? `${styles.NavLink} ${styles.Active}` : styles.NavLink\n        }\n        to=\"/tasks\"\n      >\n        <i className=\"fa-solid fa-list-check\"></i>Tasks\n      </NavLink>\n      <NavLink\n        className={({ isActive }) =>\n          isActive ? `${styles.NavLink} ${styles.Active}` : styles.NavLink\n        }\n        to=\"/categories\"\n      >\n        <i className=\"fa-regular fa-folder-open\"></i>Categories\n      </NavLink>\n      <NavLink\n        className={({ isActive }) =>\n          isActive ? `${styles.NavLink} ${styles.Active}` : styles.NavLink\n        }\n        to=\"/teams\"\n      >\n        <i className=\"fa-solid fa-people-group\"></i>Teams\n      </NavLink>\n      <NavLink\n        className={styles.NavLink}\n        to={`/profiles/${currentUser?.profile?.id}`}\n      >\n        <div className={styles.ProfileLink}>\n          {currentUser && currentUser.profile?.image ? (\n            <img\n              src={currentUser.profile.image}\n              alt=\"Profile\"\n              className={styles.Image}\n              style={{ width: '40px', height: '40px', borderRadius: '50%' }}\n              onError={(e) => {\n                e.target.src =\n                  'https://res.cloudinary.com/du2uzk3no/image/upload/v1714042156/default_profile_nwigev.jpg';\n              }}\n            />\n          ) : (\n            <i className=\"fas fa-user-circle\"></i>\n          )}\n          <span className={styles.Username}>\n            {currentUser && currentUser.username}\n          </span>\n        </div>\n      </NavLink>\n\n      <NavLink className={styles.NavLink} to=\"/\" onClick={handleSignOut}>\n        <i className=\"fas fa-sign-out-alt\"></i>Sign out\n      </NavLink>\n    </>\n  );\n\n  const loggedOutIcons = (\n    <>\n      <NavLink\n        className={({ isActive }) =>\n          isActive ? `${styles.NavLink} ${styles.Active}` : styles.NavLink\n        }\n        to=\"/signin\"\n      >\n        <i className=\"fas fa-sign-in-alt\"></i>Log In\n      </NavLink>\n      <NavLink\n        className={({ isActive }) =>\n          isActive ? `${styles.NavLink} ${styles.Active}` : styles.NavLink\n        }\n        to=\"/signup\"\n      >\n        <i className=\"fas fa-user-plus\"></i>Register\n      </NavLink>\n    </>\n  );\n\n  return (\n    <Navbar\n      expanded={expanded}\n      className={styles.NavBar}\n      expand=\"md\"\n      fixed=\"top\"\n    >\n      <Container>\n        <NavLink to=\"/\">\n          <Navbar.Brand>\n            <h2>ProductiveYou</h2>\n          </Navbar.Brand>\n        </NavLink>\n\n        <Navbar.Toggle\n          ref={ref}\n          onClick={() => setExpanded(!expanded)}\n          aria-controls=\"basic-navbar-nav\"\n        />\n        <Navbar.Collapse id=\"basic-navbar-nav\">\n          <Nav className=\"ml-auto text-left\">\n            {currentUser ? loggedInIcons : loggedOutIcons}\n          </Nav>\n        </Navbar.Collapse>\n      </Container>\n    </Navbar>\n  );\n};\n\nexport default NavBar;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}