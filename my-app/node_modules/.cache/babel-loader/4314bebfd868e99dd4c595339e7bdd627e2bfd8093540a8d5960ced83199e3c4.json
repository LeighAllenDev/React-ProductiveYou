{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import{Container,Form,Button}from'react-bootstrap';import{axiosReq}from'../api/axiosDefaults';import styles from'../App.module.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EditCategory=()=>{const{categoryId}=useParams();const navigate=useNavigate();const[categoryName,setCategoryName]=useState('');const[loading,setLoading]=useState(true);useEffect(()=>{const fetchCategory=async()=>{try{const response=await axiosReq.get(`/api/categories/${categoryId}/`);setCategoryName(response.data.name);}catch(error){alert('An error occurred while fetching the category, please try again.');}finally{setLoading(false);}};fetchCategory();},[categoryId]);const handleEditCategorySubmit=async e=>{e.preventDefault();try{await axiosReq.put(`/api/categories/${categoryId}/`,{name:categoryName});alert('Category updated successfully!');navigate('/categories');}catch(error){alert('An error occurred while updating the category, please try again.');}};if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading category details...\"});}return/*#__PURE__*/_jsxs(Container,{className:styles.App,children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-center light-blue-text text-darken-4\",children:\"Edit Category\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card-panel grey lighten-5\",children:/*#__PURE__*/_jsxs(Form,{onSubmit:handleEditCategorySubmit,className:styles.Content,children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"categoryName\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Category Name\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"category_name\",value:categoryName,minLength:\"3\",maxLength:\"25\",required:true,onChange:e=>setCategoryName(e.target.value)})]}),/*#__PURE__*/_jsxs(Button,{type:\"submit\",variant:\"primary\",className:\"mt-3\",children:[\"Update Category \",/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-save ml-1\"})]})]})})]});};export default EditCategory;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","Container","Form","Button","axiosReq","styles","jsx","_jsx","jsxs","_jsxs","EditCategory","categoryId","navigate","categoryName","setCategoryName","loading","setLoading","fetchCategory","response","get","data","name","error","alert","handleEditCategorySubmit","e","preventDefault","put","children","className","App","onSubmit","Content","Group","controlId","Label","Control","type","value","minLength","maxLength","required","onChange","target","variant"],"sources":["/Users/leighallen/Documents/GitHub/React-ProductiveYou/my-app/src/components/CategoryEdit.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { Container, Form, Button } from 'react-bootstrap';\nimport { axiosReq } from '../api/axiosDefaults';\nimport styles from '../App.module.css';\n\nconst EditCategory = () => {\n  const { categoryId } = useParams();\n  const navigate = useNavigate();\n  const [categoryName, setCategoryName] = useState('');\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchCategory = async () => {\n      try {\n        const response = await axiosReq.get(`/api/categories/${categoryId}/`);\n        setCategoryName(response.data.name);\n      } catch (error) {\n        alert('An error occurred while fetching the category, please try again.');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchCategory();\n  }, [categoryId]);\n\n  const handleEditCategorySubmit = async (e) => {\n    e.preventDefault();\n    try {\n      await axiosReq.put(`/api/categories/${categoryId}/`, { name: categoryName });\n      alert('Category updated successfully!');\n      navigate('/categories');\n    } catch (error) {\n      alert('An error occurred while updating the category, please try again.');\n    }\n  };\n\n  if (loading) {\n    return <div>Loading category details...</div>;\n  }\n\n  return (\n    <Container className={styles.App}>\n      <h3 className=\"text-center light-blue-text text-darken-4\">Edit Category</h3>\n      <div className=\"card-panel grey lighten-5\">\n        <Form onSubmit={handleEditCategorySubmit} className={styles.Content}>\n          <Form.Group controlId=\"categoryName\">\n            <Form.Label>Category Name</Form.Label>\n            <Form.Control\n              type=\"text\"\n              name=\"category_name\"\n              value={categoryName}\n              minLength=\"3\"\n              maxLength=\"25\"\n              required\n              onChange={(e) => setCategoryName(e.target.value)}\n            />\n          </Form.Group>\n          <Button type=\"submit\" variant=\"primary\" className=\"mt-3\">\n            Update Category <i className=\"fas fa-save ml-1\"></i>\n          </Button>\n        </Form>\n      </div>\n    </Container>\n  );\n};\n\nexport default EditCategory;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}