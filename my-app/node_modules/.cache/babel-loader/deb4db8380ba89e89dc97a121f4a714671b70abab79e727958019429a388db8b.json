{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Form,Button}from'react-bootstrap';import{axiosReq}from'../api/axiosDefaults';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EditTeam=_ref=>{let{team,onSubmit,onCancel}=_ref;const[teamData,setTeamData]=useState({name:'',description:'',users:[]});const[users,setUsers]=useState([]);useEffect(()=>{if(team){setTeamData({name:team.name,description:team.description,users:team.users.map(user=>user.id)});}},[team]);useEffect(()=>{fetchUsers();},[]);const fetchUsers=async()=>{try{const response=await axiosReq.get('/profiles/');setUsers(response.data);}catch(error){alert('Failed to fetch users. Please try again.');}};const handleInputChange=e=>{setTeamData({...teamData,[e.target.name]:e.target.value});};const handleUserSelection=e=>{const selectedUsers=Array.from(e.target.selectedOptions,option=>option.value);setTeamData({...teamData,users:selectedUsers});};const handleSubmit=e=>{e.preventDefault();onSubmit({...team,name:teamData.name,description:teamData.description,users:teamData.users.map(user=>parseInt(user))});};return/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Team Name\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"name\",value:teamData.name,onChange:handleInputChange,required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Description\"}),/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",name:\"description\",value:teamData.description,onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Select Users\"}),/*#__PURE__*/_jsx(Form.Control,{as:\"select\",multiple:true,name:\"users\",value:teamData.users,onChange:handleUserSelection,children:users.map(user=>/*#__PURE__*/_jsx(\"option\",{value:user.id,children:user.username},user.id))})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"Save Changes\"}),/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:onCancel,children:\"Cancel\"})]});};export default EditTeam;","map":{"version":3,"names":["React","useState","useEffect","Form","Button","axiosReq","jsx","_jsx","jsxs","_jsxs","EditTeam","_ref","team","onSubmit","onCancel","teamData","setTeamData","name","description","users","setUsers","map","user","id","fetchUsers","response","get","data","error","alert","handleInputChange","e","target","value","handleUserSelection","selectedUsers","Array","from","selectedOptions","option","handleSubmit","preventDefault","parseInt","children","Group","Label","Control","type","onChange","required","as","multiple","username","variant","onClick"],"sources":["/Users/leighallen/Documents/GitHub/React-ProductiveYou/my-app/src/components/EditTeam.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Form, Button } from 'react-bootstrap';\nimport { axiosReq } from '../api/axiosDefaults';\n\nconst EditTeam = ({ team, onSubmit, onCancel }) => {\n  const [teamData, setTeamData] = useState({\n    name: '',\n    description: '',\n    users: []\n  });\n\n  const [users, setUsers] = useState([]);\n\n  useEffect(() => {\n    if (team) {\n      setTeamData({\n        name: team.name,\n        description: team.description,\n        users: team.users.map(user => user.id)\n      });\n    }\n  }, [team]);\n\n  useEffect(() => {\n    fetchUsers();\n  }, []);\n\n  const fetchUsers = async () => {\n    try {\n      const response = await axiosReq.get('/profiles/');\n      setUsers(response.data);\n    } catch (error) {\n      alert('Failed to fetch users. Please try again.');\n    }\n  };\n\n  const handleInputChange = (e) => {\n    setTeamData({ ...teamData, [e.target.name]: e.target.value });\n  };\n\n  const handleUserSelection = (e) => {\n    const selectedUsers = Array.from(e.target.selectedOptions, option => option.value);\n    setTeamData({ ...teamData, users: selectedUsers });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onSubmit({\n      ...team,\n      name: teamData.name,\n      description: teamData.description,\n      users: teamData.users.map(user => parseInt(user))\n    });\n  };\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      <Form.Group>\n        <Form.Label>Team Name</Form.Label>\n        <Form.Control\n          type=\"text\"\n          name=\"name\"\n          value={teamData.name}\n          onChange={handleInputChange}\n          required\n        />\n      </Form.Group>\n      <Form.Group>\n        <Form.Label>Description</Form.Label>\n        <Form.Control\n          as=\"textarea\"\n          name=\"description\"\n          value={teamData.description}\n          onChange={handleInputChange}\n        />\n      </Form.Group>\n      <Form.Group>\n        <Form.Label>Select Users</Form.Label>\n        <Form.Control\n          as=\"select\"\n          multiple\n          name=\"users\"\n          value={teamData.users}\n          onChange={handleUserSelection}\n        >\n          {users.map(user => (\n            <option key={user.id} value={user.id}>\n              {user.username}\n            </option>\n          ))}\n        </Form.Control>\n      </Form.Group>\n      <Button type=\"submit\">Save Changes</Button>\n      <Button variant=\"secondary\" onClick={onCancel}>Cancel</Button>\n    </Form>\n  );\n};\n\nexport default EditTeam;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}